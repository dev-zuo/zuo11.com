
    <!DOCTYPE html>
    <html lang="zh-CN">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">

        <meta name="application name" content="ui_doc.html">
        <meta name="author" content="guoqzuo">
        <meta name="description" content="对于UI组件、echarts图表相关文档来说，能够实时看具体显示效果是必须的。它是将文档和demo合并在一起，这样更有说服力。那怎么写出类似的文档呢？这里来介绍三种方法：1.dosify 2.vuepress 3.element官网源码">
        <meta name="keywords" content="UI组件官网,组件展示官网,dosify实例">

        <title>怎么写出类似element官网那样可以实时看运行效果的文档 - 左小白的技术日常</title>
        <link rel="shortcut icon" href="/images/favicon.ico">
        <link href="/lib/prismjs/prism_default.css" rel="stylesheet" />
        <link href="/lib/notes.css" rel="stylesheet" />
        <link rel="stylesheet" href="/lib/global.css">
        
      </head>
      <body>
        <header>
          <div>
            <img src="/images/logo.png" width="24" height="24" class="pointer" onclick="gotoIndex()" />
            <span class="pointer" onclick="gotoIndex()">左小白的技术日常</span>
            <span class="hidden"> | </span>
            <a href="/blog/category.html#vue" class="hidden">Vue</a>
          </div>
          <div>
            
          <a href="http://fe.zuo11.com" target="_black" class="hidden">我的笔记</a>
        
          <a href="https://github.com/zuoxiaobai" target="_black" class="">Github</a>
        
          </div>
        </header>
        <section class="content">
          <article>
            <h1 id="怎么写出类似element官网那样可以看代码运行效果的文档">怎么写出类似element官网那样可以看代码运行效果的文档</h1>
            
    <div class="article-top">
      <div class="flex">
        这篇文章发布于 2020/10/25，归类于 <a href="/blog/category.html#vue" class="hidden">Vue</a>
        <!-- ，阅读 11 次，今日 1 次 <div class="top-comment">4 条评论</div> -->
        <div id="readAndComment" class="flex"></div>
      </div> 
      <div class="flex keywords" style="flex-wrap: nowrap;">
        <div style="flex-shrink:0; align-self: flex-start;">标签：</div>
        <div class="flex" style="flex-wrap: wrap;"><span>UI组件官网</span>，<span>组件展示官网</span>，<span>dosify实例</span></div>
      </div>
    </div>
    
  
            
<p>对于UI组件、echarts 图表相关文档来说，能够实时看具体显示效果是必须的。它是将文档和 demo 合并在一起，这样更有说服力。那怎么写出类似的文档呢？这里来介绍三种方法：</p>
<ol>
<li>dosify </li>
<li>vuepress </li>
<li>element官网源码</li>
</ol>
<h2 id="docsify">docsify</h2>
<p>一个神奇的文档网站生成器，支持 markdown 语法，可嵌入 vue 代码。基础用法可以参考文档: <a href="https://docsify.js.org/#/quickstart">docsify </a>，这里介绍下嵌入vue代码需要注意的问题</p>
<p>由于 docsify 入口是 index.html，本身不支持 ES modules，假设 vue 示例代码中，需要引入 echarts 模块，是无法 import 直接运行的。需要通过在 index.html 引入 js 来引入组件。有一个比较好的示例，可以参考 <a href="https://vueblocks.github.io/ve-charts/#/chart-line">ve-charts</a>, 可以把源码 clone 下来跑一跑。通过 <code>npm run build:lib</code> 打包生成 umd 形式的 js文件，直接引入即可。</p>
<pre><code class="language-html">&lt;!-- index.html部分代码 --&gt;
&lt;script src=&quot;//cdn.jsdelivr.net/npm/vue/dist/vue.min.js&quot;&gt;&lt;/script&gt;
&lt;!-- vuep docsify插件，用于实时编辑、显示代码 --&gt;
&lt;script src=&quot;//cdn.jsdelivr.net/npm/vuep/dist/vuep.min.js&quot;&gt;&lt;/script&gt;
&lt;!-- vuep默认是CommonJS规范，需要使用 module.exports，加babel后可以使用ES Modules的export default --&gt;
&lt;script src=&quot;https://unpkg.com/babel-standalone/babel.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;//unpkg.com/echarts@latest/dist/echarts.min.js&quot;&gt;&lt;/script&gt;
&lt;!-- ve-echarts组件库输出的umd形式js文件，只载入这个js即可完整引入ve-echarts组件库 --&gt;
&lt;script src=&quot;./lib/ve-charts.umd.min.js&quot;&gt;&lt;/script&gt;</code></pre>
<p>README.md</p>
<pre><code class="language-markdown">&lt;!-- README.md 里面嵌入vue代码 --&gt;
&lt;vuep template=&quot;#basicLine&quot; :options=&quot;{ theme: &#39;vue&#39;, lineNumbers: false }&quot;&gt;&lt;/vuep&gt;

&lt;script v-pre type=&quot;text/x-template&quot; id=&quot;basicLine&quot;&gt;
&lt;template&gt;
  &lt;ve-line-chart :data=&quot;chartData&quot; /&gt;
&lt;/template&gt;

&lt;script&gt;
  export default {
    created () {
      this.chartData = {
        dimensions: {
          name: &#39;Week&#39;,
          data: [&#39;Mon.&#39;, &#39;Tue.&#39;, &#39;Wed.&#39;, &#39;Thu.&#39;, &#39;Fir.&#39;, &#39;Sat.&#39;, &#39;Sun.&#39;]
        },
        measures: [{
          name: &#39;Vue&#39;,
          data: [30, 40, 35, 50, 49, 70, 90]
        }]
      }
    }
  }
&lt;/script&gt;</code></pre>
<p>效果如下图</p>
<p><img src="../../../images/blog/vue/dosify_vuep_ve_charts.png" alt="dosify_vuep_ve_charts.png"></p>
<h2 id="vuepress">vuepress</h2>
<p><a href="https://vuepress.vuejs.org/">vuepress</a> 是一个静态站点生成器，用于vue官网文档生成。可以内嵌vue代码，<a href="https://vuepress.vuejs.org/guide/using-vue.html#browser-api-access-restrictions">Using Vue in Markdown</a> </p>
<p>一般vue组件需要在 <code>.vuepress/components/</code> 下实现，在 markdown 语法中才能使用。下面是一个实例</p>
<pre><code class="language-markdown"># markdown引入vue组件测试

&lt;span v-for=&quot;i in 3&quot;&gt;{{ i }} &lt;/span&gt;

`zchart-test`

&lt;zchart-test&gt;&lt;/zchart-test&gt;</code></pre>
<p><img src="../../../images/blog/vue/vuepress_vue.png" alt="vuepress_vue.png"></p>
<h2 id="element官网源码">element官网源码</h2>
<p>它是自己写的一套构建程序，将 tpl 转 vue，markdown 解析时，内嵌 vue demo 会自动渲染代码，ElementUI官网源码: <a href="https://github.com/ElemeFE/element/tree/dev/examples">ElementUI官网 examples | github</a></p>
<p>下面以 <a href="https://github.com/ElemeFE/element/blob/dev/examples/docs/zh-CN/alert.md">alert文档源码</a> 为例，来看看具体写法</p>
<pre><code class="language-markdown">## Alert 警告

用于页面中展示重要的提示信息。

### 基本用法

页面中的非浮层元素，不会自动消失。

:::demo Alert 组件提供四种主题，由`type`属性指定，默认值为`info`。
&lt;template&gt;
  &lt;el-alert
    title=&quot;成功提示的文案&quot;
    type=&quot;success&quot;&gt;
  &lt;/el-alert&gt;
  &lt;el-alert
    title=&quot;消息提示的文案&quot;
    type=&quot;info&quot;&gt;
  &lt;/el-alert&gt;
  &lt;el-alert
    title=&quot;警告提示的文案&quot;
    type=&quot;warning&quot;&gt;
  &lt;/el-alert&gt;
  &lt;el-alert
    title=&quot;错误提示的文案&quot;
    type=&quot;error&quot;&gt;
  &lt;/el-alert&gt;
&lt;/template&gt;
:::

### 主题</code></pre>
<p>渲染效果如下</p>
<p><img src="../../../images/blog/vue/elementui_doc_source.png" alt="elementui_doc_source.png"></p>
<pre><code class="language-js">// 将 官网.tpl单文件组件转.vue
// /examples/pages/template/component.tpl 就是element组件文档的入口
// https://github.com/ElemeFE/element/blob/dev/build/bin/i18n.js
&#39;use strict&#39;;

var fs = require(&#39;fs&#39;);
var path = require(&#39;path&#39;);
var langConfig = require(&#39;../../examples/i18n/page.json&#39;);

langConfig.forEach(lang =&gt; {
  try {
    fs.statSync(path.resolve(__dirname, `../../examples/pages/${ lang.lang }`));
  } catch (e) {
    fs.mkdirSync(path.resolve(__dirname, `../../examples/pages/${ lang.lang }`));
  }

  Object.keys(lang.pages).forEach(page =&gt; {
    var templatePath = path.resolve(__dirname, `../../examples/pages/template/${ page }.tpl`);
    var outputPath = path.resolve(__dirname, `../../examples/pages/${ lang.lang }/${ page }.vue`);
    var content = fs.readFileSync(templatePath, &#39;utf8&#39;);
    var pairs = lang.pages[page];

    Object.keys(pairs).forEach(key =&gt; {
      content = content.replace(new RegExp(`&lt;%=\\s*${ key }\\s*&gt;`, &#39;g&#39;), pairs[key]);
    });

    fs.writeFileSync(outputPath, content);
  });
});</code></pre>
<p>/examples/pages/template/component.tpl 部分代码</p>
<pre><code class="language-html">&lt;el-scrollbar class=&quot;page-component__nav&quot;&gt;
  &lt;side-nav :data=&quot;navsData[lang]&quot; :base=&quot;`/${ lang }/component`&quot;&gt;&lt;/side-nav&gt;
&lt;/el-scrollbar&gt;
&lt;div class=&quot;page-component__content&quot;&gt;
  &lt;!-- 像 alert、button 文档切换，就是切的这里的路由 --&gt;
  &lt;router-view class=&quot;content&quot;&gt;&lt;/router-view&gt;
  &lt;footer-nav&gt;&lt;/footer-nav&gt;
&lt;/div&gt;</code></pre>
<p>对应的路由代码</p>
<pre><code class="language-js">// element/examples/route.config.js为alert等文档添加路由部分代码
function addRoute(page, lang, index) {
  const component = page.path === &#39;/changelog&#39;
    ? load(lang, &#39;changelog&#39;)
    : loadDocs(lang, page.path); // 根据path载入对应的docs/zh-CN/xx.md 
  let child = {
    path: page.path.slice(1),
    meta: {
      title: page.title || page.name,
      description: page.description,
      lang
    },
    name: &#39;component-&#39; + lang + (page.title || page.name),
    component: component.default || component 
  };

  route[index].children.push(child);
}</code></pre>

            
            <ins class='adsbygoogle' style='display:block;margin-top:1em;margin-bottom:0' data-ad-format='fluid' data-ad-layout-key='-gw-3+1f-3d+2z' data-ad-client='ca-pub-9527676606416641' data-ad-slot='8870245163'></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
            <!-- 评论系统占位 -->
            <div id="commentDiv"></div>
          </article>

          <aside>
            <div class="aside-wrap">
              <div class="top ">
                <ul><li><span class="ul-span" data-id="怎么写出类似element官网那样可以看代码运行效果的文档" style="padding-left:1em">怎么写出类似element官网那样可以看代码运行效果的文档<span></li><ul><li><span class="ul-span" data-id="docsify" style="padding-left:2em">docsify<span></li></ul><ul><li><span class="ul-span" data-id="vuepress" style="padding-left:2em">vuepress<span></li></ul><ul><li><span class="ul-span" data-id="element官网源码" style="padding-left:2em">element官网源码<span></li></ul></ul>
              </div>
              <ins class='adsbygoogle' style='display:block;width:300px;height:250px;' data-ad-client='ca-pub-9527676606416641' data-ad-slot='9476232907'></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
            </div>
          </aside>
        </section>
        <footer>
          <div class="footer_content">
            <div class="footer_right">Copyright © 2016-2021 zuo11.com. <a href='http://beian.miit.gov.cn/'>鄂ICP备16014741号-1</a></div>
            <div>Powered by <a href='https://github.com/zuoxiaobai/zuo-blog' target='_black'>zuo-blog</a></div>
          </div>
        </footer>
        <script src="/lib/prismjs/prism_default.js"></script>
        <script src="/lib/notes.js"></script> 
        <script src="/lib/global.js"></script>
        <script>
          
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?183281668cc3440449274d1f93c04de6";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();
    
        </script>
        <!-- Global site tag (gtag.js) - Google Analytics -->
<!-- <script async src="https://www.googletagmanager.com/gtag/js?id=UA-178732583-1"></script> -->
<script>
  // window.dataLayer = window.dataLayer || [];
  // function gtag(){dataLayer.push(arguments);}
  // gtag('js', new Date());
  // gtag('config', 'UA-178732583-1');

  window.onload = function() {
    setTimeout(function() {
      let script = document.createElement("script");
      script.setAttribute("data-ad-client", "ca-pub-9527676606416641");
      script.setAttribute("async", "");
      script.src = "//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";
      document.body.appendChild(script);
    }, 200);
  }
</script>

      </body>
    </html>
  