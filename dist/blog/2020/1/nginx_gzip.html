
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">

        <meta name="application name" content="nginx_gzip.html">
        <meta name="author" content="guoqzuo">
        <meta name="description" content="nginx是比较好的一个运行静态http服务的容器。当我们把静态网站部署到nginx上后，我们怎么设置开启zip，让网页资源体积更小，传输更快呢？下面来看看">
        <meta name="keywords" content="nginx怎么开启gzip,怎么判断nginx是否成功开启了gzip,怎么判断nginx开启gzip生效">

        <title>nginx怎么开启gzip以及怎么判断nginx是否成功开启了gzip？ - 左小白的技术日常</title>
        <link rel="shortcut icon" href="/images/favicon.ico">
        <link href="/lib/prismjs/prism_default.css" rel="stylesheet" />
        <link href="/lib/notes.css" rel="stylesheet" />
        <link rel="stylesheet" href="/lib/global.css">
        <script data-ad-client="ca-pub-9527676606416641" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      </head>
      <body>
        <header>
          <div>
            <img src="/images/logo.png" width="24" height="24" class="pointer" onclick="gotoIndex()" />
            <span class="pointer" onclick="gotoIndex()">左小白的技术日常</span>
            <span class="hidden"> | </span>
            <a href="/blog/category.html#运维部署与版本控制" class="hidden">运维部署与版本控制</a>
          </div>
          <div>
            
          <a href="https://www.yuque.com/guoqzuo" target="_black" class="hidden">语雀</a>
        
          <a href="https://github.com/zuoxiaobai" target="_black" class="">Github</a>
        
          </div>
        </header>
        <section class="content">
          <article>
            <h1 id="nginx怎么开启gzip以及怎么判断nginx是否成功开启了gzip？">nginx怎么开启gzip以及怎么判断nginx是否成功开启了gzip？</h1>
            
    <div class="article-top">
      <div class="flex">
        这篇文章发布于 2020/01/29，归类于 <a href="/blog/category.html#运维部署与版本控制" class="hidden">运维部署与版本控制</a>
        <!-- ，阅读 11 次，今日 1 次 <div class="top-comment">4 条评论</div> -->
        <div id="readAndComment" class="flex"></div>
      </div> 
      <div class="flex keywords" style="flex-wrap: nowrap;">
        <div style="flex-shrink:0; align-self: flex-start;">标签：</div>
        <div class="flex" style="flex-wrap: wrap;"><span>nginx怎么开启gzip</span>，<span>怎么判断nginx是否成功开启了gzip</span>，<span>怎么判断nginx开启gzip生效</span></div>
      </div>
    </div>
    
  
            
<p>nginx是比较好的一个运行静态http服务的容器。当我们把静态网站部署到nginx上后，我们怎么设置开启zip，让网页资源体积更小，传输更快呢？下面来看看</p>
<h2 id="nginx开启gzip">nginx开启gzip</h2>
<p>首先复习下windows下，nginx怎么使用：</p>
<ol>
<li>在<a href="https://nginx.org/en/download.html">nginx官网</a>下载nginx，稳定版，现在是nginx/Windows-1.16.1，下载后是一个zip文件</li>
<li>解压后放到桌面，进入解压后的目录 nginx-1.16.1，先修改nginx的root文件夹，也就是80端口指向的目录。修改 conf 目录下的 nginx.conf文件，如下图，将静态项目路径设置到root后</li>
</ol>
<p><img src="../../../images/blog/devtools/nginx_config.png" alt="nginx_config.png"></p>
<ol start="3">
<li>运行nginx</li>
</ol>
<pre><code class="language-bash"># 进入到nginx目录，shift + 鼠标右键，在此处打开命令窗口，将nginx.exe拖到窗口，再打一个空格 -c 配置文件，类似下面的命令
nginx.exe -c conf/nginx.conf
# 关闭nginx服务，注意 nginx.exe 是将nginx.exe文件拖到terminal时产生的
nginx.exe -s stop</code></pre>
<p>在上面的图中，已经有开启gzip的代码了。默认情况下 gzip on 是注释掉的，我们打开这个注释再添加几个属性即可。对于额外增加的几个属性这里说明下:</p>
<ul>
<li>gzip_types是指定需要开启gzip压缩的文件类型</li>
<li>gzip_comp_level 指定压缩等级</li>
<li>gzip_min_length 当超过多少字节时就压缩，我上面设置的是1K</li>
<li>gzip_vary 增加响应头”Vary: Accept-Encoding”</li>
</ul>
<pre><code class="language-js">gzip on;
gzip_vary on;
gzip_min_length 1000;
gzip_comp_level 2;
gzip_types text/plain text/css text/xml text/javascript application/x-javascript application/xml image/jpeg image/gif image/png application/javascript;</code></pre>
<h2 id="怎么判断nginx是否成功开启gzip">怎么判断nginx是否成功开启gzip</h2>
<p>打开chrome访问对应的站点，F12，点击network. 在Name，Priority 那一栏的最右侧空白位置，右键，勾选 Content-Encoding，如下图，设置好后刷新页面就可以看到Content-Encoding那一列了，如果有gzip就说明开启了gzip，需要结合Size这个属性看，如果没有超过设定大小的文件，是不会开启gzip压缩的。</p>
<p><img src="../../../images/blog/devtools/chrome_gzip.png" alt="chrome_gzip.png"></p>

            
            
            <!-- 评论系统占位 -->
            <div id="commentDiv"></div>
          </article>

          <aside>
            <div class="aside-wrap">
              <ins class='adsbygoogle' style='display:block;width:300px;height:250px;' data-ad-client='ca-pub-9527676606416641' data-ad-slot='9476232907' data-ad-format='auto' data-full-width-responsive='true'></ins>
              <div class="top ">
                <ul><li><span class="ul-span" data-id="nginx怎么开启gzip以及怎么判断nginx是否成功开启了gzip？" style="padding-left:1em">nginx怎么开启gzip以及怎么判断nginx是否成功开启了gzip？<span></li><ul><li><span class="ul-span" data-id="nginx开启gzip" style="padding-left:2em">nginx开启gzip<span></li></ul><ul><li><span class="ul-span" data-id="怎么判断nginx是否成功开启gzip" style="padding-left:2em">怎么判断nginx是否成功开启gzip<span></li></ul></ul>
              <div>
            </div>
          </aside>
        </section>
        <footer>
          <div class="footer_content">
            <div class="footer_right">Copyright © 2016-2020 zuo11.com. <a href='http://www.beian.miit.gov.cn/'>鄂ICP备16014741号-1</a></div>
            <div>Powered by <a href='https://github.com/zuoxiaobai/zuo-blog' target='_black'>zuo-blog</a></div>
          </div>
        </footer>
        <script src="/lib/prismjs/prism_default.js"></script>
        <script src="/lib/notes.js"></script> 
        <script src="/lib/global.js"></script>
        <script>
          
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?183281668cc3440449274d1f93c04de6";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();
    
        </script>
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-178732583-1"></script>
<script>
  // Google AD
  console.log('adsbygoogle', window.adsbygoogle || []);

  (adsbygoogle = window.adsbygoogle || []).push({});

  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-178732583-1');
</script>

      </body>
    </html>
  