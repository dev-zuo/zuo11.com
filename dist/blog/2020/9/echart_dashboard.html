
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">

        <meta name="application name" content="echart_dashboard.html">
        <meta name="author" content="guoqzuo">
        <meta name="description" content="echart自定义仪表盘,echarts复杂图,echart堆叠图,最近有个UI需求，画一个自定义的仪表盘，看起来很不好实现，后面在看了echarts社区的一些例子，经过写demo测试后，找到了规律，核心是化繁为简，对于复杂的UI，可以拆分为多个小的模块，一个个实现">
        <meta name="keywords" content="echart自定义仪表盘,echarts复杂图,echart堆叠图">

        <title>echarts画高自定义仪表盘，echart本质是图的堆叠 - 左小白的技术日常</title>
        <link rel="shortcut icon" href="/images/favicon.ico">
        <link href="/lib/prismjs/prism_default.css" rel="stylesheet" />
        <link href="/lib/notes.css" rel="stylesheet" />
        <link rel="stylesheet" href="/lib/global.css">
        <script data-ad-client="ca-pub-9527676606416641" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      </head>
      <body>
        <header>
          <div>
            <img src="/images/logo.png" width="24" height="24" class="pointer" onclick="gotoIndex()" />
            <span class="pointer" onclick="gotoIndex()">左小白的技术日常</span>
            <span class="hidden"> | </span>
            <a href="/blog/category.html#图表可视化" class="hidden">图表可视化</a>
          </div>
          <div>
            
          <a href="https://www.yuque.com/guoqzuo" target="_black" class="hidden">语雀</a>
        
          <a href="https://github.com/zuoxiaobai" target="_black" class="">Github</a>
        
          </div>
        </header>
        <section class="content">
          <article>
            
    <div class="article-top">
      <div>2020/09/07</div> 
      <div class="article-top-right">Author: guoqzuo</div>
    </div>
  
            <h1 id="echarts画高自定义仪表盘，echart本质是图的堆叠">echarts画高自定义仪表盘，echart本质是图的堆叠</h1>
<p>最近有个UI需求，画一个自定义的仪表盘，看起来很不好实现，后面在看了echarts社区的一些例子，经过写demo测试后，找到了规律，<strong>核心是化繁为简，对于复杂的UI，可以拆分为多个小的模块，一个个实现</strong></p>
<p><img src="../../../images/blog/vue/echarts_round.png" alt="echarts_round.png"></p>
<p>下面是一个很粗糙的测试demo，option如下，完整demo参见: <a href="https://github.com/zuoxiaobai/fedemo/tree/master/src/vuecli-demo/src/views/echarts">自定义仪表盘 | github</a></p>
<pre><code class="language-js">var placeHolderStyle = {
  normal: {
    label: {
      show: false
    },
    labelLine: {
      show: false
    },
    color: &quot;rgba(0,0,0,0)&quot;,
    borderWidth: 0
  },
  emphasis: {
    color: &quot;rgba(0,0,0,0)&quot;,
    borderWidth: 0
  }
};

var bg = [
  {
    type: &quot;pie&quot;,
    radius: &quot;53%&quot;, // 半径
    center: [
      // 圆心
      &quot;40%&quot;,
      &quot;50%&quot;
    ],
    z: 1,
    itemStyle: {
      normal: {
        color: {
          type: &quot;linear&quot;,
          x: 0,
          y: 0,
          x2: 0,
          y2: 1,
          colorStops: [
            {
              offset: 0,
              color: &quot;#ffffff&quot; // 0% 处的颜色
            },
            {
              offset: 1,
              color: &quot;#f3f4f9&quot; // 100% 处的颜色
            }
          ],
          global: false // 缺省为 false
        },
        label: {
          show: false
        },
        labelLine: {
          show: false
        }
      }
    },
    hoverAnimation: false,
    label: {
      show: false
    },
    tooltip: {
      show: false
    },
    data: [
      {
        value: 70 // 背景部分
      },
      {
        value: 30, // 空缺部分
        itemStyle: {
          color: &quot;transparent&quot;
        }
      }
    ],
    startAngle: 216
  }
];

// 仪表盘外层
var roundList = [
  {
    type: &quot;pie&quot;,
    hoverAnimation: true, //鼠标经过的特效
    radius: [&quot;50%&quot;, &quot;55%&quot;],
    center: [&quot;40%&quot;, &quot;50%&quot;],
    startAngle: 180,
    labelLine: {
      normal: {
        show: false
      }
    },
    label: {
      normal: {
        position: &quot;center&quot;
      }
    },
    data: [
      {
        value: 100, // 显示长度
        itemStyle: {
          normal: {
            color: &quot;rgba(236,172,112, 1.0)&quot; // 橙色 1
          }
        }
      },
      {
        value: 100, // 总长度
        itemStyle: placeHolderStyle
      }
    ]
  },

  {
    type: &quot;pie&quot;,
    hoverAnimation: false, //鼠标经过的特效
    radius: [&quot;50%&quot;, &quot;55%&quot;], // 内半径、外半径
    center: [&quot;40%&quot;, &quot;50%&quot;], // 圆心坐标, 距离左侧、顶部
    startAngle: 180, // 0 为圆心左侧开始，起始角度，支持范围[0, 360]。
    labelLine: {
      normal: {
        show: false
      }
    },
    label: {
      normal: {
        position: &quot;center&quot;
      }
    },
    data: [
      {
        value: 11,
        itemStyle: {
          normal: {
            color: &quot;white&quot; // 3 紫色
          }
        }
        // label: dataStyle, 显示标签
      },
      {
        value: 100,
        itemStyle: placeHolderStyle
      }
    ]
  },

  //上层环形配置
  {
    type: &quot;pie&quot;,
    hoverAnimation: false, //鼠标经过的特效
    radius: [&quot;50%&quot;, &quot;55%&quot;], // 内半径、外半径
    center: [&quot;40%&quot;, &quot;50%&quot;], // 圆心坐标, 距离左侧、顶部
    startAngle: 180, // 0 为圆心左侧开始，起始角度，支持范围[0, 360]。
    labelLine: {
      normal: {
        show: false
      }
    },
    label: {
      normal: {
        position: &quot;center&quot;
      }
    },
    data: [
      {
        value: 10,
        itemStyle: {
          normal: {
            color: &quot;rgba(170,185,227,1.0)&quot; // 3 紫色
          }
        }
        // label: dataStyle,  // label: dataStyle, 显示标签
      },
      {
        value: 100,
        itemStyle: placeHolderStyle
      }
    ]
  }
];

var pointer = [
  {
    name: &quot;指针&quot;,
    type: &quot;gauge&quot;,
    title: {
      show: false
    },
    detail: {
      show: false
    },
    data: [
      {
        value: 29
      }
    ],
    radius: &quot;55%&quot;, // 内半径、外半径
    center: [&quot;40%&quot;, &quot;50%&quot;], // 圆心坐标, 距离左侧、顶部
    itemStyle: {
      color: &quot;#000&quot;
    },
    axisLine: {
      lineStyle: {
        show: false,
        width: 0
      }
    },
    axisLabel: {
      show: false
    },
    axisTick: {
      show: false
    },
    splitLine: {
      show: false
    },
    pointer: {
      show: true,
      length: &quot;80%&quot;,
      width: 40
    }
  }
];

var circles = [
  {
    type: &quot;pie&quot;,
    radius: &quot;80&quot;, // 半径
    center: [
      // 圆心
      &quot;40%&quot;,
      &quot;50%&quot;
    ],
    z: 10,
    itemStyle: {
      normal: {
        color: &quot;#fff&quot;,
        label: {
          show: true
        },
        labelLine: {
          show: false
        },
        shadowColor: &quot;rgba(122, 122, 122, 0.21)&quot;,
        shadowBlur: 30
      }
    },
    animation: false,
    tooltip: {
      show: false
    },
    data: [
      {
        value: 36, // 背景部分
        label: {
          normal: {
            formatter: &quot;{c}%&quot;,
            position: &quot;center&quot;,
            show: true,
            textStyle: {
              fontSize: &quot;40&quot;,
              fontFamily: &quot;Impact&quot;,
              fontWeight: &quot;normal&quot;,
              color: &quot;#4a4a4a&quot;
            }
          }
        }
      }
    ],
    startAngle: 0,
    text: &quot;36%&quot;,
    textStyle: {
      color: &quot;red&quot;
    }
  },
  {
    name: &quot;Line&quot;,
    type: &quot;pie&quot;, // 圆圈
    clockWise: false,
    radius: [&quot;28%&quot;, &quot;28.5%&quot;],
    center: [
      // 圆心
      &quot;40%&quot;,
      &quot;50%&quot;
    ],
    z: 11,
    tooltip: {
      show: false
    },
    label: {
      show: false
    },
    animation: false,
    data: [
      {
        value: 100,
        itemStyle: {
          color: &quot;#ececec&quot;
        }
      }
    ]
  }
];

var texts = [];

var option = {
  backgroundColor: &quot;#fff&quot;,
  title: [
    {
      text: &quot;0&quot;,
      left: &quot;13%&quot;,
      top: &quot;51%&quot;,
      textAlign: &quot;center&quot;,
      textStyle: {
        fontWeight: &quot;normal&quot;,
        fontFamily: &quot;PingFangSC-Semibold&quot;,
        fontSize: &quot;16&quot;,
        color: &quot;#4a4a4a&quot;,
        textAlign: &quot;center&quot;
      }
    },
    {
      text: &quot;48万&quot;,
      left: &quot;65%&quot;,
      top: &quot;51%&quot;,
      textAlign: &quot;center&quot;,
      textStyle: {
        color: &quot;#4a4a4a&quot;,
        fontFamily: &quot;PingFangSC-Semibold&quot;,
        fontWeight: &quot;normal&quot;,
        fontSize: &quot;16&quot;,
        textAlign: &quot;center&quot;
      }
    }
  ],
  series: [
    ...bg, // 背景
    ...roundList, // 最外面顶部样式
    ...pointer, // 指针
    ...circles, // 中间圆圈部分
    ...texts // 左右侧文字
  ]
};

console.log(option);</code></pre>

          </article>
          <aside>
            <div>
              <ul><li><span class="ul-span" data-id="echarts画高自定义仪表盘，echart本质是图的堆叠" style="padding-left:1em">echarts画高自定义仪表盘，echart本质是图的堆叠<span></li></ul>
            <div>
          </aside>
        </section>
        <footer>
          <div class="footer_content">
            <div class="footer_right">Copyright © 2016-2020 zuo11.com. <a href='http://www.beian.miit.gov.cn/'>鄂ICP备16014741号-1</a></div>
            <div>Powered by <a href='https://github.com/zuoxiaobai/zuo-blog' target='_black'>zuo-blog</a></div>
          </div>
        </footer>
        <script src="/lib/prismjs/prism_default.js"></script>
        <script src="/lib/notes.js"></script> 
        <script src="/lib/global.js"></script>
        <script>
          
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?183281668cc3440449274d1f93c04de6";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();
    
        </script>
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-178732583-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-178732583-1');
</script>

      </body>
    </html>
  