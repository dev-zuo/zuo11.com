
    <!DOCTYPE html>
    <html lang="zh-CN">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">

        <meta name="application name" content="regExp_url.html">
        <meta name="author" content="guoqzuo">
        <meta name="description" content="正则提取 url 参数，来看一个问题，使用正则表达式从 url 中提取区域、城市id、模块、页数id。url 示例如下 1. `http://www.xx.com/region/gd/module` 2. `http://www.xx.com/region/gd-c222/module` 3. `http://www.xx.com/region/gd-c222/module/p2` 下面来看看怎么实现。首先，回顾下正则表达式（Regular Expression）基础。正则表表达式以 `/pattern/flags` 表示，是 RegExp 对象的实例">
        <meta name="keywords" content="正则提取 url 参数">

        <title>正则表达式使用 () 和 match 或 replace 提取 url 路径参数 - 左小白的技术日常</title>
        <link rel="shortcut icon" href="/images/favicon.ico">
        <link href="/lib/prismjs/prism_default.css" rel="stylesheet" />
        <link href="/lib/notes.css" rel="stylesheet" />
        <link rel="stylesheet" href="/lib/global.css">
        
      </head>
      <body>
        <header>
          <div>
            <img src="/images/logo.png" width="24" height="24" class="pointer" onclick="gotoIndex()" />
            <span class="pointer" onclick="gotoIndex()">左小白的技术日常</span>
            <span class="hidden"> | </span>
            <a href="/blog/category.html#javascript" class="hidden">JavaScript</a>
          </div>
          <div>
            
          <a href="http://fe.zuo11.com" target="_black" class="hidden">我的笔记</a>
        
          <a href="https://github.com/zuoxiaobai" target="_black" class="">Github</a>
        
          </div>
        </header>
        <section class="content">
          <article>
            <h1 id="正则表达式使用--和-match-或-replace-提取-url-路径参数">正则表达式使用 () 和 match 或 replace 提取 url 路径参数</h1>
            
    <div class="article-top">
      <div class="flex">
        这篇文章发布于 2021/05/04，归类于 <a href="/blog/category.html#javascript" class="hidden">JavaScript</a>
        <!-- ，阅读 11 次，今日 1 次 <div class="top-comment">4 条评论</div> -->
        <div id="readAndComment" class="flex"></div>
      </div> 
      <div class="flex keywords" style="flex-wrap: nowrap;">
        <div style="flex-shrink:0; align-self: flex-start;">标签：</div>
        <div class="flex" style="flex-wrap: wrap;"><span>正则提取 url 参数</span></div>
      </div>
    </div>
    
  
            
<p>来看一个问题，使用正则表达式从 url 中提取区域、城市id、模块、页数id。url 示例如下</p>
<ol>
<li><code>http://www.xx.com/region/gd/module</code></li>
<li><code>http://www.xx.com/region/gd-c222/module</code></li>
<li><code>http://www.xx.com/region/gd-c222/module/p2</code></li>
</ol>
<p>下面来看看怎么实现</p>
<p>首先，回顾下正则表达式（Regular Expression）基础。正则表表达式以 <code>/pattern/flags</code> 表示，是 RegExp 对象的实例</p>
<pre><code class="language-js">/[a-z]*/g instanceof RegExp // true</code></pre>
<p>pattern 模式由下面的字符组成</p>
<ul>
<li><p><code>边界符号(^、$)</code> ^ 以 xx 开头，$ 以 xx 结尾</p>
<ul>
<li><code>/^abc/</code> 表示以 abc 开头</li>
<li><code>/abc$/</code> 表示以 abc 结尾</li>
</ul>
</li>
<li><p><code>字符集合([]、^、-)</code> 一系列的字符集合</p>
<ul>
<li><code>[abc]</code> 表示 abc 里面的任意一个字符</li>
<li><code>[^abc]</code> 表示任意一个非 abc 字符，注意 ^ 在 [] 里面表示非 xx 字符</li>
<li><code>[a-z0-9]</code> 表示 a 到 z 的字符，0 到 9 字符</li>
</ul>
</li>
<li><p><code>预定义模式字符(.、\d、\w、\s、\n)</code> 一些常见字符集合的简写</p>
<ul>
<li><code>.</code> 表示除 \r\n 之外的所有字符</li>
<li><code>\d</code> 是 <code>[0-9]</code> 的简写，表示数字</li>
<li><code>\D</code> 是 <code>[^0-9]</code> 的简写，表示非数字</li>
<li><code>\w</code> 是 <code>[0-9a-zA-Z_]</code> 的简写，表示数字、字母、下划线</li>
<li><code>\W</code> 是 <code>[^0-9a-zA-Z_]</code> 的简写，表示非数字、字母、下划线</li>
<li><code>\s</code> 是 <code>[ ]</code> 的简写，表示空白符(空格)，<code>&quot;  a  b c   &quot;.replace(/\s/g, &#39;&#39;) === &quot;abc&quot;</code></li>
<li><code>\S</code> 是 <code>[^ ]</code> 的简写，表示非空白符</li>
<li><code>\n</code> 表示 换行符</li>
</ul>
</li>
<li><p><code>匹配次数/数量(?、*、+、{})</code></p>
<ul>
<li><code>?</code> 匹配前面的模式 0 次或 1 次 {0, 1}</li>
<li><code>*</code> 匹配前面的模式 0 次或多次 {0, }</li>
<li><code>+</code> 匹配前面的模式 1 次或多次 {1, }</li>
<li><code>{n}</code>    匹配前面的模式 n 次</li>
<li><code>{n,m}</code> 匹配前面的模式 至少 n 次，至多 m 次</li>
</ul>
</li>
<li><p><code>其他 ()、|</code></p>
<ul>
<li><code>()</code> 用于匹配字符串中的多个部分，比如 <code>(\w+)\s(\w+)</code> 匹配 <code>aaa bbb</code>，第一部分 $1 为 &#39;aaa&#39;，第二部分 $2 为 &#39;bbb&#39;。可以使用 regExp.exec(str) 返回对象的 index 来获取对应的部分值。或者 replace 时，使用 $1 $2 等格式替代。</li>
<li><code>|</code> 表示或 <code>/a|b/</code> 表示 a 或者 b </li>
</ul>
</li>
<li><p><code>转义字符* + ? $ ^ . | \ ( ) { } [ ]</code> 正则表达式保留字符都需要在前面加 <code>\</code> 进行转义，比如字符 <code>/</code> 需要使用 <code>\/</code> 表示</p>
</li>
</ul>
<p>flags 标志位：g 不仅仅匹配第一个，全局匹配。i 忽略大小写</p>
<p>正则表达式中，一个 () 表示一个部分，来看一个例子。</p>
<pre><code class="language-js">let str = &quot;zuo guoqing&quot;
let reg = /(\w+)\s(\w+)/ // 匹配两个部分 &#39;第一部分 第二部分&#39;
str.replace(reg, &quot;$2 $1&quot;) // 将两个部分对调，&quot;guoqing zuo&quot;
str.match(reg) // { 0: &quot;zuo guoqing&quot;, 1: &quot;zuo&quot;, 2: &quot;guoqing&quot; }
reg.exec(str) // { 0: &quot;zuo guoqing&quot;, 1: &quot;zuo&quot;, 2: &quot;guoqing&quot; }</code></pre>
<p>现在我们可以使用 () 来分部分（块）提取 url 中的字符了，将 url 拆解 <code>.com之前的部分\/区域部分\/城市以及id部分\/模块部分\/页数部分</code></p>
<pre><code class="language-js">// .com 之前的部分 [\S]+.com\/  匹配一个或多个非空白符.com\/
// 区域部分 ([\w]*)\/ 匹配 0 个 或多个 数字字母下划线
// 城市及id部分 ([\w-]*)\/ 匹配 0 个或多个 数字字母下划线 -
// 模块部分 ([\w]*)\/?
// 页数部分 ([\w]*)$
let regExp = /[\S]+.com\/([\w]*)\/([\w-]*)\/([\w]*)\/?([\w]*)$/
let a = `http://www.xx.com/region/gd/module`
let b = `http://www.xx.com/region/gd-c222/module`
let c = `http://www.xx.com/region/gd-c222/module/p2`
a.replace(regExp, &#39;$1 $2 $3 $4&#39;) // &quot;region gd module &quot;
b.replace(regExp, &#39;$1 $2 $3 $4&#39;) // &quot;region gd-c222 module &quot;
c.replace(regExp, &#39;$1 $2 $3 $4&#39;) // &quot;region gd-c222 module p2&quot;
a.match(regExp) // { 1: &quot;region&quot;, 2: &quot;gd&quot;, 3: &quot;module&quot;, 4: &quot;&quot; }
c.match(regExp) // { 1: &quot;region&quot;, 2: &quot;gd-c222&quot;, 3: &quot;module&quot;, 4: &quot;p2&quot; }</code></pre>

            
            <ins class='adsbygoogle' style='display:block;margin-top:1em;margin-bottom:0' data-ad-format='fluid' data-ad-layout-key='-gw-3+1f-3d+2z' data-ad-client='ca-pub-9527676606416641' data-ad-slot='8870245163'></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
            <!-- 评论系统占位 -->
            <div id="commentDiv"></div>
          </article>

          <aside>
            <div class="aside-wrap">
              <div class="top ">
                <ul><li><span class="ul-span" data-id="正则表达式使用--和-match-或-replace-提取-url-路径参数" style="padding-left:1em">正则表达式使用 () 和 match 或 replace 提取 url 路径参数<span></li></ul>
              </div>
              <ins class='adsbygoogle' style='display:block;width:300px;height:250px;' data-ad-client='ca-pub-9527676606416641' data-ad-slot='9476232907'></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
            </div>
          </aside>
        </section>
        <footer>
          <div class="footer_content">
            <div class="footer_right">Copyright © 2016-2021 zuo11.com. <a href='http://beian.miit.gov.cn/'>鄂ICP备16014741号-1</a></div>
            <div>Powered by <a href='https://github.com/zuoxiaobai/zuo-blog' target='_black'>zuo-blog</a></div>
          </div>
        </footer>
        <script src="/lib/prismjs/prism_default.js"></script>
        <script src="/lib/notes.js"></script> 
        <script src="/lib/global.js"></script>
        <script>
          
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?183281668cc3440449274d1f93c04de6";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();
    
        </script>
        <!-- Global site tag (gtag.js) - Google Analytics -->
<!-- <script async src="https://www.googletagmanager.com/gtag/js?id=UA-178732583-1"></script> -->
<script>
  // window.dataLayer = window.dataLayer || [];
  // function gtag(){dataLayer.push(arguments);}
  // gtag('js', new Date());
  // gtag('config', 'UA-178732583-1');

  window.onload = function() {
    setTimeout(function() {
      let script = document.createElement("script");
      script.setAttribute("data-ad-client", "ca-pub-9527676606416641");
      script.setAttribute("async", "");
      script.src = "//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";
      document.body.appendChild(script);
    }, 200);
  }
</script>

      </body>
    </html>
  