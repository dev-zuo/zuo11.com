
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">

        <meta name="application name" content="es2020_operator.html">
        <meta name="author" content="guoqzuo">
        <meta name="description" content="Optional chaining operator(?.) 与 Nullish coalescing Operator(??) 目前正式进入 stg4，确定会成为ES2020标准，阮一峰老师已经在他的es6入门教程里更新了，下面来看看具体怎么使用">
        <meta name="keywords" content="??与?.,js ??是什么意思,js ?.是什么意思">

        <title>ES2020 '?.' 与 '??' 操作符 - 左小白的技术日常</title>
        <link rel="shortcut icon" href="/images/favicon.ico">
        <link href="/lib/prismjs/prism_default.css" rel="stylesheet" />
        <link href="/lib/notes.css" rel="stylesheet" />
        <link rel="stylesheet" href="/lib/global.css">
        <script data-ad-client="ca-pub-9527676606416641" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      </head>
      <body>
        <header>
          <div>
            <img src="/images/logo.png" width="24" height="24" class="pointer" onclick="gotoIndex()" />
            <span class="pointer" onclick="gotoIndex()">左小白的技术日常</span>
            <span class="hidden"> | </span>
            <a href="/blog/category.html#js" class="hidden">js</a>
          </div>
          <div>
            
          <a href="https://www.yuque.com/guoqzuo" target="_black" class="hidden">语雀</a>
        
          <a href="https://github.com/zuoxiaobai" target="_black" class="">Github</a>
        
          </div>
        </header>
        <section class="content">
          <article>
            
    <div class="article-top">
      <div>2019/12/09</div> 
      <div class="article-top-right">Author: guoqzuo</div>
    </div>
  
            <h1 id="es2020--与--操作符">ES2020 &#39;?.&#39; 与 &#39;??&#39; 操作符</h1>
<p>Optional chaining operator(?.) 与 Nullish coalescing Operator(??) 目前正式进入 stg4，确定会成为ES2020标准，阮一峰老师已经在他的es6入门教程里更新了，下面来看看具体怎么使用</p>
<h2 id="optional-chaining-operator">Optional chaining operator(?.)</h2>
<p>可选链操作符，阮一峰ES6入门里称之为&quot;链判断运算符&quot;，<strong>作用：当对象的属性或方法不存在时，需要先判断是否有值再使用。对于比较多层级的子属性判断就更复杂了，可选链操作符用于简化该场景的写法</strong></p>
<pre><code class="language-js">// 示例1：当obj.sayHi存在，则执行该函数
obj.sayHi &amp;&amp; obj.sayHi()
// 简化写法:
obj.sayHi?.() 

// 示例2: 如果当user.address为undefined，再访问子集元素会报错
var street = user.address ? user.address.street : undefined
// 简化写法: 
var street = user.address?.street

// 示例3
var argName = &#39;name&#39;
obj?.[argName] 

// 语法
obj?.prop       // optional static property access
obj?.[expr]     // optional dynamic property access
func?.(...args) // optional function or method call
</code></pre>
<h2 id="nullish-coalescing-operator">Nullish coalescing Operator(??)</h2>
<p><strong>Null判断运算符，主要用来替代 || 判断变量是否是null和undifined这两种情况，排除0，&#39;&#39;，false的误判</strong>，一般我们在判空时可能会出现问题，来看个例子</p>
<pre><code class="language-js">// 示例
const response = {
  settings: {
    nullValue: null,
    height: 400,
    animationDuration: 0,
    headerText: &#39;&#39;,
    showSplashScreen: false
  }
};

// 一般需求是，如果某个值非null 或undefined 就使用默认值
const undefinedValue = response.settings.undefinedValue || &#39;some other default&#39;; // result: &#39;some other default&#39;
const nullValue = response.settings.nullValue || &#39;some other default&#39;; // result: &#39;some other default&#39;

// 但 || 这种写法，只要左侧为false(比如(&#39;&#39;、0、false))，也会使用默认值 
const headerText = response.settings.headerText || &#39;Hello, world!&#39;; // Potentially unintended. &#39;&#39; is falsy, result: &#39;Hello, world!&#39;
const animationDuration = response.settings.animationDuration || 300; // Potentially unintended. 0 is falsy, result: 300
const showSplashScreen = response.settings.showSplashScreen || true; // Potentially unintended. false is falsy, result: true
</code></pre>
<p><strong>?? 就是为了解决这种问题需求的，只有当左侧值为null或undefined，才使用右侧的默认值</strong></p>
<pre><code class="language-js">const undefinedValue = response.settings.undefinedValue ?? &#39;some other default&#39;; // result: &#39;some other default&#39;
const nullValue = response.settings.nullValue ?? &#39;some other default&#39;; // result: &#39;some other default&#39;
const headerText = response.settings.headerText ?? &#39;Hello, world!&#39;; // result: &#39;&#39;
const animationDuration = response.settings.animationDuration ?? 300; // result: 0
const showSplashScreen = response.settings.showSplashScreen ?? true; // result: false</code></pre>
<p>参考文档：</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/%E5%8F%AF%E9%80%89%E9%93%BE">可选链 - JavaScript | MDN</a></p>
<p><a href="http://es6.ruanyifeng.com/#docs/object#%E9%93%BE%E5%88%A4%E6%96%AD%E8%BF%90%E7%AE%97%E7%AC%A6">对象的扩展 - ECMAScript 6入门</a></p>
<p><a href="https://github.com/tc39/proposals/blob/master/finished-proposals.md">tc39 - Finished Proposals</a></p>
<p><a href="https://github.com/tc39/proposal-optional-chaining">tc39 - proposal-optional-chaining</a></p>
<p><a href="https://github.com/tc39/proposal-nullish-coalescing">proposal-nullish-coalescing</a></p>

          </article>
          <aside>
            <div>
              <ul><li><span class="ul-span" data-id="es2020-'?'-与-'??'-操作符" style="padding-left:1em">ES2020 '?.' 与 '??' 操作符<span></li><ul><li><span class="ul-span" data-id="optional-chaining-operator?" style="padding-left:2em">Optional chaining operator(?.)<span></li></ul><ul><li><span class="ul-span" data-id="nullish-coalescing-operator??" style="padding-left:2em">Nullish coalescing Operator(??)<span></li></ul></ul>
            <div>
          </aside>
        </section>
        <footer>
          <div class="footer_content">
            <div class="footer_right">Copyright © 2016-2020 zuo11.com. <a href='http://www.beian.miit.gov.cn/'>鄂ICP备16014741号-1</a></div>
            <div>Powered by <a href='https://github.com/zuoxiaobai/zuo-blog' target='_black'>zuo-blog</a></div>
          </div>
        </footer>
        <script src="/lib/prismjs/prism_default.js"></script>
        <script src="/lib/notes.js"></script> 
        <script src="/lib/global.js"></script>
        <script>
          
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?183281668cc3440449274d1f93c04de6";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();
    
        </script>
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-178732583-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-178732583-1');
</script>

      </body>
    </html>
  